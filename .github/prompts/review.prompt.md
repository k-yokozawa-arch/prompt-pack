---
description: "コードレビュー（セキュリティ・品質）"
---

# ✅ コードレビュー

## レビュー観点

### 1. Contract-First整合性
- [ ] OpenAPI定義と実装が一致
- [ ] 生成コードを手動編集していない
- [ ] `make lint-openapi` が通る

### 2. セキュリティ（OWASP準拠）
- [ ] 入力検証（型/長さ/形式）
- [ ] SQLインジェクション対策（プリペアドステートメント）
- [ ] XSS対策（出力エスケープ）
- [ ] IDOR対策（tenant_id検証）
- [ ] 機密情報がログに出ていない
- [ ] CORS設定が適切

### 3. エラーハンドリング
- [ ] ユーザー向けメッセージとログが分離
- [ ] correlationIdがログに含まれる
- [ ] パニックリカバリーがある

### 4. パフォーマンス
- [ ] N+1クエリがない
- [ ] 不要なループ内IO
- [ ] 適切なインデックス

### 5. 可読性
- [ ] 関数が単一責任
- [ ] 命名が明確
- [ ] マジックナンバーがない

### 6. テスタビリティ
- [ ] 依存がインターフェース経由
- [ ] モック可能な設計

## 品質基準
[rubric.md](../../../rubric.md) の基準を満たしているか確認してください。

---

## 📝 レビュー対象

**ファイル/PR**: （レビュー対象を指定）
**重点確認**: （特に見てほしい点）

---

上記観点でレビューし、問題点と改善案を報告してください。
